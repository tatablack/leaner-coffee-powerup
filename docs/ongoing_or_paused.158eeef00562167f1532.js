try{let t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},e=(new t.Error).stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="aa03cbba-0028-46c4-8c2e-0a3e98b28ff0",t._sentryDebugIdIdentifier="sentry-dbid-aa03cbba-0028-46c4-8c2e-0a3e98b28ff0")}catch(t){}!function(){"use strict";const t=(t,e,s)=>{const r=s.value,i="AsyncFunction"===r.constructor.name,n=`Leaner Coffee Power-Up: error in ${e} (reported)`;return s.value=i?async function(...t){try{return await r.apply(this,t)}catch(t){console.warn(n),window.Sentry.captureException(t)}}:function(...t){try{return r.apply(this,t)}catch(t){console.warn(n),window.Sentry.captureException(t)}},s};function e(e){const s=e.prototype;return Object.getOwnPropertyNames(s).filter((t=>"function"==typeof s[t]&&"constructor"!==t)).forEach((e=>{const r=Object.getOwnPropertyDescriptor(s,e);if(r&&"function"==typeof r.value){const i=t(0,e,r);Object.defineProperty(s,e,i)}})),e}const s=t=>{const e=t.constructor.prototype;Object.getOwnPropertyNames(e).filter((t=>"function"==typeof e[t]&&"constructor"!==t)).forEach((s=>e[s]=e[s].bind(t)))};var r=function(t,e,s,r){var i,n=arguments.length,o=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(n<3?i(o):n>3?i(e,s,o):i(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};let i=class{constructor(t="member",e="private"){Object.assign(this,{scope:t,visibility:e}),s(this)}read(t,e,s){return t.get(s??this.scope,this.visibility,e)}write(t,e,s,r){return t.set(r??this.scope,this.visibility,e,s)}writeMultiple(t,e,s){return t.set(s??this.scope,this.visibility,e)}delete(t,e,s){return t.remove(s??this.scope,this.visibility,e)}deleteMultiple(t,e,s){return t.remove(s??this.scope,this.visibility,e)}};i=r([e],i);var n=i;class o extends n{constructor(){super("board","shared")}async getDiscussionStatus(t){return super.read(t,o.DISCUSSION_STATUS)}async getDiscussionCardId(t){return super.read(t,o.DISCUSSION_CARD_ID)}async getDiscussionStartedAt(t){return super.read(t,o.DISCUSSION_STARTED_AT)}async getDiscussionPreviousElapsed(t){return super.read(t,o.DISCUSSION_PREVIOUS_ELAPSED)}async getDiscussionIntervalId(t){return super.read(t,o.DISCUSSION_INTERVAL_ID)}async getPowerUpInstallationDate(t){return super.read(t,o.POWER_UP_INSTALLATION_DATE)}async getOrganisationIdHash(t){return super.read(t,o.ORGANISATION_HASH)}async setOrganisationIdHash(t,e){return super.write(t,o.ORGANISATION_HASH,e)}async getBoardIdHash(t){return super.read(t,o.BOARD_HASH)}async setBoardIdHash(t,e){return super.write(t,o.BOARD_HASH,e)}async getInitialised(t){return!!await super.read(t,o.POWER_UP_INSTALLATION_DATE)}setPowerUpInstallationDate(t,e){return super.write(t,o.POWER_UP_INSTALLATION_DATE,e)}}o.DISCUSSION_STATUS="leancoffeeDiscussionStatus",o.DISCUSSION_CARD_ID="leancoffeeDiscussionCardId",o.DISCUSSION_STARTED_AT="leancoffeeDiscussionStartedAt",o.DISCUSSION_PREVIOUS_ELAPSED="leancoffeeDiscussionPreviousElapsed",o.DISCUSSION_INTERVAL_ID="leancoffeeDiscussionIntervalId",o.POWER_UP_INSTALLATION_DATE="powerUpInstallationDate",o.ORGANISATION_HASH="organisationHash",o.BOARD_HASH="boardHash";var a=o,c=function(t,e,s,r){var i,n=arguments.length,o=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,s):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(n<3?i(o):n>3?i(e,s,o):i(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};let u=class{constructor({w:t}){this.boardStorage=new a,this.t=t.TrelloPowerUp.iframe({helpfulStacks:!1}),this.w=t,s(this),Promise.all([this.boardStorage.getOrganisationIdHash(this.t),this.boardStorage.getBoardIdHash(this.t)]).then((([t,e])=>{this.w.Sentry&&this.w.Sentry.onLoad((async()=>{this.w.Sentry.setTags({organisationIdHash:t,boardIdHash:e})}))}))}toggleFields(t,e){this.w.document.querySelectorAll(t).forEach((t=>{const s=t.dataset.i18nId===e;t.style.display=s?"block":"none"}))}initLocaliser(t){this.w.TrelloPowerUp.util.initLocalizer(this.w.locale,{localization:this.t.arg("localization")}).then(t)}};u=c([e],u);var l=u;new class extends l{init(){this.currentCardBeingDiscussed=this.t.arg("currentCardBeingDiscussed"),this.currentDiscussionStatus=this.t.arg("currentDiscussionStatus"),this.isRunning="ONGOING"===this.currentDiscussionStatus,this.startButton=this.w.document.getElementById("start-button"),this.startButton.addEventListener("click",(async()=>{await this.t.notifyParent("done"),await this.t.closePopup()})),this.prepareLocalisation(),this.initLocaliser(this.onLocalised)}prepareLocalisation(){this.w.document.querySelectorAll(".message").forEach((t=>{t.dataset.i18nArgs=JSON.stringify({card:this.currentCardBeingDiscussed})}))}async onLocalised(){this.toggleFields(".message",this.isRunning?"ongoingRunning":"ongoingOnHold"),this.t.localizeNode(document.body),await this.t.sizeTo("body")}}({w:window}).init()}();
//# sourceMappingURL=ongoing_or_paused.158eeef00562167f1532.js.map